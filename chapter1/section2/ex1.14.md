※VS Code の Markdown Preview Enhanced で表示してください．

---

`cc`の各呼び出しを，`[amount]_[kinds-of-coins]`という引数のペアで表す．

`cc 11 5`は以下のようなプロセスを生成する

```mermaid
graph TD

hist[11_5]--->hist-0[11_4]
hist-0[11_4]--->hist-0-0[11_3]
hist-0-0[11_3]--->hist-0-0-0[11_2]
hist-0-0-0[11_2]--->hist-0-0-0-0[11_1]
hist-0-0-0-0[11_1]--->hist-0-0-0-0-0[11_0]
hist-0-0-0-0[11_1]--->hist-0-0-0-0-1[10_1]
hist-0-0-0-0-1[10_1]--->hist-0-0-0-0-1-0[10_0]
hist-0-0-0-0-1[10_1]--->hist-0-0-0-0-1-1[9_1]
hist-0-0-0-0-1-1[9_1]--->hist-0-0-0-0-1-1-0[9_0]
hist-0-0-0-0-1-1[9_1]--->hist-0-0-0-0-1-1-1[8_1]
hist-0-0-0-0-1-1-1[8_1]--->hist-0-0-0-0-1-1-1-0[8_0]
hist-0-0-0-0-1-1-1[8_1]--->hist-0-0-0-0-1-1-1-1[7_1]
hist-0-0-0-0-1-1-1-1[7_1]--->hist-0-0-0-0-1-1-1-1-0[7_0]
hist-0-0-0-0-1-1-1-1[7_1]--->hist-0-0-0-0-1-1-1-1-1[6_1]
hist-0-0-0-0-1-1-1-1-1[6_1]--->hist-0-0-0-0-1-1-1-1-1-0[6_0]
hist-0-0-0-0-1-1-1-1-1[6_1]--->hist-0-0-0-0-1-1-1-1-1-1[5_1]
hist-0-0-0-0-1-1-1-1-1-1[5_1]--->hist-0-0-0-0-1-1-1-1-1-1-0[5_0]
hist-0-0-0-0-1-1-1-1-1-1[5_1]--->hist-0-0-0-0-1-1-1-1-1-1-1[4_1]
hist-0-0-0-0-1-1-1-1-1-1-1[4_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-0[4_0]
hist-0-0-0-0-1-1-1-1-1-1-1[4_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-1[3_1]
hist-0-0-0-0-1-1-1-1-1-1-1-1[3_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-1-0[3_0]
hist-0-0-0-0-1-1-1-1-1-1-1-1[3_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-1-1[2_1]
hist-0-0-0-0-1-1-1-1-1-1-1-1-1[2_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-1-1-0[2_0]
hist-0-0-0-0-1-1-1-1-1-1-1-1-1[2_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-1-1-1[1_1]
hist-0-0-0-0-1-1-1-1-1-1-1-1-1-1[1_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-1-1-1-0[1_0]
hist-0-0-0-0-1-1-1-1-1-1-1-1-1-1[1_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-1-1-1-1[0_1]
hist-0-0-0[11_2]--->hist-0-0-0-1[6_2]
hist-0-0-0-1[6_2]--->hist-0-0-0-1-0[6_1]
hist-0-0-0-1-0[6_1]--->hist-0-0-0-1-0-0[6_0]
hist-0-0-0-1-0[6_1]--->hist-0-0-0-1-0-1[5_1]
hist-0-0-0-1-0-1[5_1]--->hist-0-0-0-1-0-1-0[5_0]
hist-0-0-0-1-0-1[5_1]--->hist-0-0-0-1-0-1-1[4_1]
hist-0-0-0-1-0-1-1[4_1]--->hist-0-0-0-1-0-1-1-0[4_0]
hist-0-0-0-1-0-1-1[4_1]--->hist-0-0-0-1-0-1-1-1[3_1]
hist-0-0-0-1-0-1-1-1[3_1]--->hist-0-0-0-1-0-1-1-1-0[3_0]
hist-0-0-0-1-0-1-1-1[3_1]--->hist-0-0-0-1-0-1-1-1-1[2_1]
hist-0-0-0-1-0-1-1-1-1[2_1]--->hist-0-0-0-1-0-1-1-1-1-0[2_0]
hist-0-0-0-1-0-1-1-1-1[2_1]--->hist-0-0-0-1-0-1-1-1-1-1[1_1]
hist-0-0-0-1-0-1-1-1-1-1[1_1]--->hist-0-0-0-1-0-1-1-1-1-1-0[1_0]
hist-0-0-0-1-0-1-1-1-1-1[1_1]--->hist-0-0-0-1-0-1-1-1-1-1-1[0_1]
hist-0-0-0-1[6_2]--->hist-0-0-0-1-1[1_2]
hist-0-0-0-1-1[1_2]--->hist-0-0-0-1-1-0[1_1]
hist-0-0-0-1-1-0[1_1]--->hist-0-0-0-1-1-0-0[1_0]
hist-0-0-0-1-1-0[1_1]--->hist-0-0-0-1-1-0-1[0_1]
hist-0-0-0-1-1[1_2]--->hist-0-0-0-1-1-1[-4_2]
hist-0-0[11_3]--->hist-0-0-1[1_3]
hist-0-0-1[1_3]--->hist-0-0-1-0[1_2]
hist-0-0-1-0[1_2]--->hist-0-0-1-0-0[1_1]
hist-0-0-1-0-0[1_1]--->hist-0-0-1-0-0-0[1_0]
hist-0-0-1-0-0[1_1]--->hist-0-0-1-0-0-1[0_1]
hist-0-0-1-0[1_2]--->hist-0-0-1-0-1[-4_2]
hist-0-0-1[1_3]--->hist-0-0-1-1[-9_3]
hist-0[11_4]--->hist-0-1[-14_4]
hist[11_5]--->hist-1[-39_5]
```

---

空間計算量について，プロセスツリーの深さで見積もる．これは，`amount`を$n$とすると$\Theta(n)$である．プロセスツリーの深さは，`amount + コインの枚数`となっている

---

時間計算量について，cc の呼び出し回数で見積もる．これは，`amount`を$n$とすると$\Theta(n^5)$である．

`kinds-of-coins`ごとに分類して，プロセスツリーを観察する．

`kinds-of-coins`が 0 の場合，追加の`cc`の呼び出しは無い．したがって，`kinds-of-coins`が 0 となった時点で，以降の計算量は$\Theta(1)$である．

`kinds-of-coins`が 1 の場合，以降の計算量は，その時点での`amount`を$n$とすると$\Theta(n)$となる．これは，対応するツリーを観察することで自明である．例えば，

```mermaid
graph TD

hist-0-0-0-0[11_1]--->hist-0-0-0-0-0[11_0]
hist-0-0-0-0[11_1]--->hist-0-0-0-0-1[10_1]
hist-0-0-0-0-1[10_1]--->hist-0-0-0-0-1-0[10_0]
hist-0-0-0-0-1[10_1]--->hist-0-0-0-0-1-1[9_1]
hist-0-0-0-0-1-1[9_1]--->hist-0-0-0-0-1-1-0[9_0]
hist-0-0-0-0-1-1[9_1]--->hist-0-0-0-0-1-1-1[8_1]
hist-0-0-0-0-1-1-1[8_1]--->hist-0-0-0-0-1-1-1-0[8_0]
hist-0-0-0-0-1-1-1[8_1]--->hist-0-0-0-0-1-1-1-1[7_1]
hist-0-0-0-0-1-1-1-1[7_1]--->hist-0-0-0-0-1-1-1-1-0[7_0]
hist-0-0-0-0-1-1-1-1[7_1]--->hist-0-0-0-0-1-1-1-1-1[6_1]
hist-0-0-0-0-1-1-1-1-1[6_1]--->hist-0-0-0-0-1-1-1-1-1-0[6_0]
hist-0-0-0-0-1-1-1-1-1[6_1]--->hist-0-0-0-0-1-1-1-1-1-1[5_1]
hist-0-0-0-0-1-1-1-1-1-1[5_1]--->hist-0-0-0-0-1-1-1-1-1-1-0[5_0]
hist-0-0-0-0-1-1-1-1-1-1[5_1]--->hist-0-0-0-0-1-1-1-1-1-1-1[4_1]
hist-0-0-0-0-1-1-1-1-1-1-1[4_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-0[4_0]
hist-0-0-0-0-1-1-1-1-1-1-1[4_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-1[3_1]
hist-0-0-0-0-1-1-1-1-1-1-1-1[3_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-1-0[3_0]
hist-0-0-0-0-1-1-1-1-1-1-1-1[3_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-1-1[2_1]
hist-0-0-0-0-1-1-1-1-1-1-1-1-1[2_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-1-1-0[2_0]
hist-0-0-0-0-1-1-1-1-1-1-1-1-1[2_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-1-1-1[1_1]
hist-0-0-0-0-1-1-1-1-1-1-1-1-1-1[1_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-1-1-1-0[1_0]
hist-0-0-0-0-1-1-1-1-1-1-1-1-1-1[1_1]--->hist-0-0-0-0-1-1-1-1-1-1-1-1-1-1-1[0_1]
```

をみると，`cc`の呼び出し回数は`2 * amount + 1`となっているのがわかる．

`kinds-of-coins`が 2 の場合，以降の計算量は，その時点での`amount`を$n$とすると$\Theta(n^2)$となる．これは，`kinds-of-coins`が 2 のプロセスが，`kinds-of-coins`が 1 のプロセスを$n/5$個生成することからわかる．

```mermaid
graph TD

hist-0-0-0[11_2]--->hist-0-0-0-0[11_1]
hist-0-0-0[11_2]--->hist-0-0-0-1[6_2]
hist-0-0-0-1[6_2]--->hist-0-0-0-1-0[6_1]
hist-0-0-0-1[6_2]--->hist-0-0-0-1-1[1_2]
hist-0-0-0-1-1[1_2]--->hist-0-0-0-1-1-0[1_1]
hist-0-0-0-1-1[1_2]--->hist-0-0-0-1-1-1[-4_2]
```

`kinds-of-coins`が 1 のプロセス以降は，計算量が$\Theta(n)$であるため，全体としては$\Theta(n^2)$の計算量となる．

同様の議論によって，

`kinds-of-coins`が 3 の場合，以降の計算量は$\Theta(n^3)$となり，

`kinds-of-coins`が 4 の場合，以降の計算量は$\Theta(n^4)$となり，

`kinds-of-coins`が 5 の場合，以降の計算量は$\Theta(n^5)$となる．

この解答は以下のサイトを参考にした．より詳しい説明もここにある

https://sicp-solutions.net/post/sicp-solution-exercise-1-14/
